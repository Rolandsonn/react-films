{"version":3,"file":"static/js/92.d111ab07.chunk.js","mappings":"mMACA,GAAgB,UAAY,6B,iDCO5B,EARmB,CACjB,CAAEA,GAAI,GAAIC,KAAM,SAChB,CAAED,GAAI,GAAIC,KAAM,aAChB,CAAED,GAAI,GAAIC,KAAM,WAChB,CAAED,GAAI,GAAIC,KAAM,UAChB,CAAED,GAAI,GAAIC,KAAM,YAChB,CAAED,GAAI,GAAIC,KAAM,WCLlB,EAAsB,4B,SCwBtB,EAvBuB,SAAH,GAAqC,IAA/BA,EAAI,EAAJA,KAAMC,EAAa,EAAbA,cAAeF,EAAE,EAAFA,GAQ7C,OACE,yBACE,mBACEA,GAAIA,EACJG,QAAS,SAACC,GACRF,EAAcE,EAAEC,OAAOL,GACzB,EACAM,UAAWC,EAAW,SAErBN,KAIT,ECtBA,EAAuB,6BCWvB,EAPuB,SAAH,GAA2B,IAArBC,EAAa,EAAbA,cAClBM,EAAYC,EAAAA,KAAe,SAACC,GAAI,OACpC,SAAC,GAAc,kBAAmBA,GAAI,IAAER,cAAeA,IAAlCQ,EAAKV,GAA8C,IAE1E,OAAO,eAAIM,UAAWC,EAAY,SAAEC,GACtC,ECEe,SAASG,IACtB,OAA0BC,EAAAA,EAAAA,UAAS,IAAG,eAA/BC,EAAK,KAAEC,EAAQ,KACtB,GAA0BF,EAAAA,EAAAA,UAAS,MAAK,eAAjCG,EAAK,KAAEC,EAAQ,KACtB,GAAsCJ,EAAAA,EAAAA,UAAS,GAAE,eAA1CK,EAAW,KAAEC,EAAc,KAE5BC,EAAUC,oCAGhBC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAM,gEAA4DH,EAAO,iBAASF,GAClFM,EAAU,yCAAG,4GAETC,EAAAA,EAAAA,IAAUF,GAAQG,MAAK,SAACC,GAC5B,IAAMC,EAAOD,EAASC,KACtBb,GAAS,WACP,MAAM,GAAN,eAAWD,IAAK,OAAKc,EAAKC,SAC5B,GACF,IAAG,KAAD,iDAEFC,QAAQC,IAAI,EAAD,IAAQ,wDAEtB,kBAXe,mCAYhBP,GACF,GAAG,CAACN,KAIJI,EAAAA,EAAAA,YAAU,WACR,IAAMU,EAAa,yCAAG,4GAEZP,EAAAA,EAAAA,IACC,qCAAD,OACmCT,EAAK,iBAASE,EAAW,oBAAYE,IAE3EM,MAAK,SAACO,GACLlB,EAASkB,EAAIL,KAAKC,QACpB,IAAG,KAAD,iDAEJC,QAAQI,MAAM,sCAAqC,MAAU,wDAEhE,kBAZkB,mCAaflB,GACFgB,GAEJ,GAAG,CAAChB,IAUJ,OACE,iBAAKT,UAAWC,EAAAA,UAAiB,WAC/B,iBAAKD,UAAWC,EAAAA,IAAW,WACzB,SAAC,EAAc,CAACL,cAPA,SAACF,GACrBgB,EAAShB,EACX,KAMM,SAAC,IAAS,CAAC2B,KAAMd,KACjB,SAACqB,EAAA,EAAW,CAAC/B,QAbG,WACpBe,GAAe,SAACiB,GAAS,OAAKA,EAAY,CAAC,GAC7C,OAaKtB,EAAMuB,OAAS,IAAK,SAACC,EAAA,EAAK,MAGjC,C,8EC3EA,EAA0B,uBAA1B,EAAgG,+BAAhG,EAAwL,yB,SCKzK,SAASA,IACtB,OAA4BzB,EAAAA,EAAAA,UAAS,GAAE,eAAhC0B,EAAM,KAAEC,EAAS,MAExBlB,EAAAA,EAAAA,YAAU,WACR,IAAMmB,EAAW,WAAH,OAASD,EAAUE,OAAOC,YAAa,EAKrD,OAFAD,OAAOE,oBAAoB,SAAUH,GACrCC,OAAOG,iBAAiB,SAAUJ,GAC3B,kBAAMC,OAAOE,oBAAoB,SAAUH,EAAU,CAC9D,GAAG,IAEH,IAAMK,EAAkB,WACtBJ,OAAOK,SAAS,CACdC,IAAK,EACLC,OAAQ,EACRC,SAAU,UAEd,EAEA,OACE,gBAAK3C,UAAWC,EAAe,SAC5B+B,EAAS,KACR,mBAAQhC,UAAWC,EAAkBJ,QAAS0C,EAAgB,UAC5D,iBACEK,QAAQ,MACRC,MAAM,6BACNC,MAAM,KACNC,OAAO,KACPC,QAAQ,YAAW,WAEnB,2BAAO,eACP,iBAAMC,EAAE,uJACR,iBAAMA,EAAE,sFAIZ,mBAAQjD,UAAWC,EAAwBJ,QAAS0C,EAAgB,UAClE,iBACEK,QAAQ,MACRC,MAAM,6BACNC,MAAM,KACNC,OAAO,KACPC,QAAQ,YAAW,WAEnB,2BAAO,eACP,iBAAMC,EAAE,uJACR,iBAAMA,EAAE,sFAMpB,C,mEC1DA,EAA8B,iC,SCGf,SAASrB,EAAY,GAAc,IAAZ/B,EAAO,EAAPA,QACpC,OACE,0BACE,mBAAQG,UAAWC,EAAoBJ,QAASA,EAAQ,SAAC,eAK/D,C,qECXA,G,QAAuB,yB,oBCAvB,EAAiC,kCAAjC,EAAiJ,oCAAjJ,EAAyM,qCAAzM,EAA0P,6BAA1P,EAA6R,uBAA7R,EAA8T,2B,SCM/S,SAASqD,EAAU,GAQ9B,IAPFC,EAAW,EAAXA,YACAC,EAAa,EAAbA,cACAC,EAAK,EAALA,MACAC,EAAY,EAAZA,aACA5D,EAAE,EAAFA,GACAC,EAAI,EAAJA,KACA4D,EAAU,EAAVA,WAEA,OACE,eAAIvD,UAAWC,EAAiB,UAC9B,UAAC,KAAI,CAACD,UAAWC,EAAYuD,GAAE,kBAAa9D,GAAK,WAC/C,kBACA,gBACEM,UAAWC,EACXwD,IACEN,EAAW,yCAC2BA,GAAeC,GACjDM,EAENC,IAAI,SAEN,iBAAK3D,UAAWC,EAAe,WAC7B,eAAID,UAAWC,EAAwB,SAAEoD,GAAS1D,KAClD,eAAGK,UAAWC,EAAyB,UAAC,eACzB2D,KAAKC,MAAMP,GAAc,MAAE,0BAAOC,cAM3D,CCjCe,SAASO,EAAU,GAAW,IACrCC,EADgC,EAAJ1C,KACX2C,KAAI,SAAC5D,GAAI,OAAK,SAAC8C,GAAS,UAAmB9C,GAAbA,EAAKV,GAAgB,IAC1E,OACE,+BACE,eAAIM,UAAWC,EAAY,SAAE8D,KAGnC,C","sources":["webpack://films/./src/client/Pages/HomePage/HomePage.module.scss?f1cb","client/components/categories/CategElems.js","webpack://films/./src/client/components/categories/CategoriesItem/CategoriesItem.module.scss?722d","client/components/categories/CategoriesItem/CategoriesItem.jsx","webpack://films/./src/client/components/categories/CategoriesList/CategoriesList.module.scss?4aa9","client/components/categories/CategoriesList/CategoriesList.jsx","client/Pages/HomePage/HomePage.jsx","webpack://films/./src/client/components/BtnUp/BtnUp.module.scss?952d","client/components/BtnUp/BtnUp.jsx","webpack://films/./src/client/components/LoadMoreBtn/LoadMoreBtn.module.scss?737a","client/components/LoadMoreBtn/LoadMoreBtn.jsx","webpack://films/./src/client/components/movies/MovieList/MovieList.module.scss?4da4","webpack://films/./src/client/components/movies/MovieItem/MovieItem.module.scss?e20a","client/components/movies/MovieItem/MovieItem.jsx","client/components/movies/MovieList/MovieList.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"MoviePage\":\"HomePage_MoviePage__i925D\"};","const CategElems = [\r\n  { id: 28, name: \"Drama\" },\r\n  { id: 35, name: \"Adventure\" },\r\n  { id: 14, name: \"Western\" },\r\n  { id: 36, name: \"Action\" },\r\n  { id: 53, name: \"Thriller\" },\r\n  { id: 37, name: \"Horror\" },\r\n];\r\nexport default CategElems;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"CategoriesItem_btn__9r9cZ\"};","import React from \"react\";\r\nimport styles from \"./CategoriesItem.module.scss\";\r\nconst CategoriesItem = ({ name, getCategoryId, id }) => {\r\n  // const handleClick = (e) => {\r\n  //   if (e.target.id === e.currentTarget.id) {\r\n  //     getCategoryId(e.target.id);\r\n  //     console.log(e.target.id);\r\n  //   }\r\n  // };\r\n\r\n  return (\r\n    <li>\r\n      <button\r\n        id={id}\r\n        onClick={(e) => {\r\n          getCategoryId(e.target.id);\r\n        }}\r\n        className={styles.btn}\r\n      >\r\n        {name}\r\n      </button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default CategoriesItem;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"CategoriesList_list__Hme7r\"};","import React, { useEffect } from \"react\";\r\nimport CategElems from \"../CategElems\";\r\nimport CategoriesItem from \"../CategoriesItem\";\r\nimport styles from \"./CategoriesList.module.scss\";\r\n\r\nconst CategoriesList = ({ getCategoryId }) => {\r\n  const categElem = CategElems.map((item) => (\r\n    <CategoriesItem key={item.id} {...item} getCategoryId={getCategoryId} />\r\n  ));\r\n  return <ul className={styles.list}>{categElem}</ul>;\r\n};\r\n\r\nexport default CategoriesList;\r\n","import React, { useState } from \"react\";\r\nimport styles from \"./HomePage.module.scss\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport BtnUp from \"../../components/BtnUp\";\r\nimport MovieList from \"../../components/movies\";\r\nimport LoadMoreBtn from \"../../components/LoadMoreBtn\";\r\nimport CategoriesList from \"../../components/categories/CategoriesList\";\r\nimport { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nexport default function HomePage() {\r\n  const [films, setFilms] = useState([]);\r\n  const [categ, setCateg] = useState(null);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  const API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\n  //? get trending films\r\n  useEffect(() => {\r\n    const apiUrl = `https://api.themoviedb.org/3/trending/all/day?api_key=${API_KEY}&page=${currentPage}`;\r\n    const fetchFilms = async () => {\r\n      try {\r\n        await axios.get(apiUrl).then((response) => {\r\n          const data = response.data;\r\n          setFilms(() => {\r\n            return [...films, ...data.results];\r\n          });\r\n        });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    fetchFilms();\r\n  }, [currentPage]);\r\n\r\n  //todo get categories\r\n\r\n  useEffect(() => {\r\n    const getByCategory = async () => {\r\n      try {\r\n        await axios\r\n          .get(\r\n            `https://api.themoviedb.org/4/list/${categ}?page=${currentPage}&api_key=${API_KEY}`\r\n          )\r\n          .then((res) => {\r\n            setFilms(res.data.results);\r\n          });\r\n      } catch (error) {\r\n        console.error(\"Smth wrong with api get full trends\" + error);\r\n      }\r\n    };\r\n    if (categ) {\r\n      getByCategory();\r\n    }\r\n  }, [categ]);\r\n\r\n  const showMoreFilms = () => {\r\n    setCurrentPage((prevState) => prevState + 1);\r\n  };\r\n\r\n  const getCategoryId = (id) => {\r\n    setCateg(id);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.MoviePage}>\r\n      <div className={styles.rap}>\r\n        <CategoriesList getCategoryId={getCategoryId} />\r\n        <MovieList data={films} />\r\n        <LoadMoreBtn onClick={showMoreFilms} />\r\n      </div>\r\n      {films.length > 0 && <BtnUp />}\r\n    </div>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"BtnUp_wrapper__ZiwH7\",\"BtnUp\":\"BtnUp_BtnUp__RTjyD\",\"scrollInvisible\":\"BtnUp_scrollInvisible__LPHlk\",\"scrollVisible\":\"BtnUp_scrollVisible__1nnCQ\",\"ScrollBtn\":\"BtnUp_ScrollBtn__useyS\"};","import React, { useEffect, useState } from \"react\";\r\n\r\nimport styles from \"./BtnUp.module.scss\";\r\n\r\nimport ScrollBtn from \"../../../image/BtnUp.png\";\r\n\r\nexport default function BtnUp() {\r\n  const [offset, setOffset] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const onScroll = () => setOffset(window.pageYOffset);\r\n    // clean up code\r\n\r\n    window.removeEventListener(\"scroll\", onScroll);\r\n    window.addEventListener(\"scroll\", onScroll);\r\n    return () => window.removeEventListener(\"scroll\", onScroll);\r\n  }, []);\r\n\r\n  const handlerScrollUp = () => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      right: -1,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      {offset > 400 ? (\r\n        <button className={styles.ScrollBtn} onClick={handlerScrollUp}>\r\n          <svg\r\n            version=\"1.1\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"52\"\r\n            height=\"52\"\r\n            viewBox=\"0 0 32 32\"\r\n          >\r\n            <title>circle-up</title>\r\n            <path d=\"M0 16c0 8.837 7.163 16 16 16s16-7.163 16-16-7.163-16-16-16-16 7.163-16 16zM29 16c0 7.18-5.82 13-13 13s-13-5.82-13-13 5.82-13 13-13 13 5.82 13 13z\"></path>\r\n            <path d=\"M22.086 20.914l2.829-2.829-8.914-8.914-8.914 8.914 2.828 2.828 6.086-6.086z\"></path>\r\n          </svg>\r\n        </button>\r\n      ) : (\r\n        <button className={styles.scrollInvisible} onClick={handlerScrollUp}>\r\n          <svg\r\n            version=\"1.1\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"52\"\r\n            height=\"52\"\r\n            viewBox=\"0 0 32 32\"\r\n          >\r\n            <title>circle-up</title>\r\n            <path d=\"M0 16c0 8.837 7.163 16 16 16s16-7.163 16-16-7.163-16-16-16-16 7.163-16 16zM29 16c0 7.18-5.82 13-13 13s-13-5.82-13-13 5.82-13 13-13 13 5.82 13 13z\"></path>\r\n            <path d=\"M22.086 20.914l2.829-2.829-8.914-8.914-8.914 8.914 2.828 2.828 6.086-6.086z\"></path>\r\n          </svg>\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// export function scrollToTop() {\r\n//   refs.rootElement.scrollTo({\r\n//     top: 0,\r\n//     behavior: \"smooth\",\r\n//   });\r\n// }\r\n\r\n// refs.scrollToTopBtn.addEventListener(\"click\", scrollToTop);\r\n\r\n// export function scrollEvent() {\r\n//   if (window.pageYOffset > 300) {\r\n//     refs.scrollToTopBtn.classList.add(\"scroll-visible\");\r\n//     refs.scrollToTopBtn.classList.remove(\"noHover\");\r\n//     refs.scrollToTopBtn.classList.remove(\"clicked\");\r\n//   } else {\r\n//     refs.scrollToTopBtn.classList.remove(\"scroll-visible\");\r\n//     refs.scrollToTopBtn.classList.add(\"noHover\");\r\n//     refs.scrollToTopBtn.classList.add(\"clicked\");\r\n//   }\r\n// }\r\n\r\n// refs.window.addEventListener(\"scroll\", scrollEvent);\r\n","// extracted by mini-css-extract-plugin\nexport default {\"LoadMoreBtn\":\"LoadMoreBtn_LoadMoreBtn__+cgyz\"};","import React from \"react\";\r\n\r\nimport styles from \"./LoadMoreBtn.module.scss\";\r\n\r\nexport default function LoadMoreBtn({ onClick }) {\r\n  return (\r\n    <div>\r\n      <button className={styles.LoadMoreBtn} onClick={onClick}>\r\n        Load More\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MovieList_list__akjgi\"};","// extracted by mini-css-extract-plugin\nexport default {\"MovieItem__img\":\"MovieItem_MovieItem__img__J34W7\",\"MovieItem__wrapper\":\"MovieItem_MovieItem__wrapper__O4CiO\",\"MovieItem__title\":\"MovieItem_MovieItem__title__OMZl6\",\"MovieItem__rating\":\"MovieItem_MovieItem__rating__IERx+\",\"container\":\"MovieItem_container__QSXWj\",\"box\":\"MovieItem_box__hiFkw\",\"content\":\"MovieItem_content__9dvxl\",\"sci\":\"MovieItem_sci__8dzeZ\"};","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport imageDef from \"../../../../image/default_image.png\";\r\n\r\nimport styles from \"./MovieItem.module.scss\";\r\n\r\nexport default function MovieItem({\r\n  poster_path,\r\n  backdrop_path,\r\n  title,\r\n  vote_average,\r\n  id,\r\n  name,\r\n  vote_count,\r\n}) {\r\n  return (\r\n    <li className={styles.container}>\r\n      <Link className={styles.box} to={`/movies/${id}`}>\r\n        <b></b>\r\n        <img\r\n          className={styles.MovieItem__img}\r\n          src={\r\n            poster_path\r\n              ? `https://image.tmdb.org/t/p/w500${poster_path || backdrop_path}`\r\n              : imageDef\r\n          }\r\n          alt=\"img\"\r\n        />\r\n        <div className={styles.content}>\r\n          <h1 className={styles.MovieItem__title}>{title || name}</h1>\r\n          <p className={styles.MovieItem__rating}>\r\n            Vote/Votes: {Math.round(vote_average)}/ <span>{vote_count}</span>\r\n          </p>\r\n        </div>\r\n      </Link>\r\n    </li>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styles from \"./MovieList.module.scss\";\r\n\r\nimport MovieItem from \"../MovieItem\";\r\n\r\nexport default function MovieList({ data }) {\r\n  const filmElems = data.map((item) => <MovieItem key={item.id} {...item} />);\r\n  return (\r\n    <>\r\n      <ul className={styles.list}>{filmElems}</ul>\r\n    </>\r\n  );\r\n}\r\n"],"names":["id","name","getCategoryId","onClick","e","target","className","styles","categElem","CategElems","item","HomePage","useState","films","setFilms","categ","setCateg","currentPage","setCurrentPage","API_KEY","process","useEffect","apiUrl","fetchFilms","axios","then","response","data","results","console","log","getByCategory","res","error","LoadMoreBtn","prevState","length","BtnUp","offset","setOffset","onScroll","window","pageYOffset","removeEventListener","addEventListener","handlerScrollUp","scrollTo","top","right","behavior","version","xmlns","width","height","viewBox","d","MovieItem","poster_path","backdrop_path","title","vote_average","vote_count","to","src","imageDef","alt","Math","round","MovieList","filmElems","map"],"sourceRoot":""}